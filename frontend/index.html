<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | AthleteHub</title>
    <script src="script.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <link rel="stylesheet" href="styles.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=sync" />

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">  
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-secondary-50 font-sans">

    <!-- Navigation Bar -->

    <nav class="bg-white shadow-sm fixed w-full z-10">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                
                <div class="flex items-center justify-center w-full md:w-auto">
                    <a href="#" class="text-2xl font-bold text-primary-600">
                        <img src="https://i.postimg.cc/Z5CdmRVQ/k.png" alt="logo" class="h-12 w-auto"> 
                    </a>
                </div>
    
                <!-- Navigation Links -->

                <div class="hidden md:flex space-x-8 ml-10">
                    <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-primary-600 border-b-2 border-primary-500">
                        <span class="material-icons mr-1 text-sm">dashboard</span>
                        Dashboard
                    </a>
                    <a href="#YeHaiPerformance" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700 hover:border-b-2 hover:border-primary-300 transition-all">
                        <span class="material-icons mr-1 text-sm">trending_up</span>
                        Performance
                    </a>
                    <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700 hover:border-b-2 hover:border-primary-300 transition-all">
                        <span class="material-icons mr-1 text-sm">event</span>
                        Events
                    </a>
                </div>
    
                
                <div class="hidden md:flex items-center">
                    <button id="logoutBtn" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700">
                        <span class="material-icons mr-1 text-sm">logout</span>
                        Logout
                    </button>
                </div>
    
                <!-- Mobile Menu Button -->
                <button id="menuToggle" class="md:hidden text-secondary-700 focus:outline-none">
                    <span class="material-icons text-3xl">menu</span>
                </button>
            </div>
        </div>
    
        
        <div id="mobileMenu" class="hidden md:hidden flex flex-col space-y-2 px-4 pb-4 bg-white shadow-lg">
            <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-primary-600 border-b-2 border-primary-500">
                <span class="material-icons mr-1 text-sm">dashboard</span>
                Dashboard
            </a>
            <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700 hover:border-b-2 hover:border-primary-300 transition-all">
                <span class="material-icons mr-1 text-sm">trending_up</span>
                Performance
            </a>
            <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700 hover:border-b-2 hover:border-primary-300 transition-all">
                <span class="material-icons mr-1 text-sm">event</span>
                Events
            </a>
            <button id="mobileLogoutBtn" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700">
                <span class="material-icons mr-1 text-sm">logout</span>
                Logout
            </button>
        </div>
    </nav>
    
    
    <!-- Main Content -->
    <main class="pt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            
           <!-- Profile Section -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6 relative">
                <!-- Edit Profile Button -->
                <button onclick="openEditProfile()" class="absolute top-4 right-4 p-2 text-primary-600 hover:bg-primary-50 rounded-full transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                    </svg>
                </button>
                
                <div class="flex flex-col md:flex-row items-center">
                    <img id="profileImage" src="https://avatar.iran.liara.run/username?username=[firstname+lastname]" 
                        alt="Athlete Profile" class="rounded-full w-24 h-24 object-cover border-4 border-primary-100">
                    <div class="md:ml-6 mt-4 md:mt-0 text-center md:text-left">
                        <h1 id="profileName" class="text-2xl font-bold text-secondary-900">Loading...</h1>
                        <p id="profileRole" class="text-secondary-500">Athlete</p>
                        <div class="mt-2 flex flex-wrap justify-center md:justify-start items-center gap-2">
                            <span class="px-3 py-1 rounded-full text-sm bg-green-100 text-green-800">Active</span>
                            <span class="px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800">
                                <span id="athleteId">ID: Loading...</span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Edit Profile Modal -->
            <div id="editProfileModal" class="fixed inset-0 bg-secondary-900 bg-opacity-50 flex justify-center items-center hidden z-50">
                <div class="bg-white p-6 rounded-lg shadow-lg w-96 max-w-[90%]">
                    <h2 class="text-xl font-bold mb-4 text-secondary-900">Edit Profile</h2>
                    
                    <label class="block text-sm font-medium text-secondary-700">Name</label>
                    <input id="editName" type="text" class="w-full p-2 border rounded mt-1 mb-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">

                    <label class="block text-sm font-medium text-secondary-700">Role</label>
                    <input id="editRole" type="text" class="w-full p-2 border rounded mt-1 mb-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">

                    <label class="block text-sm font-medium text-secondary-700">Profile Image</label>
                    <input id="editImage" type="file" accept="image/*" class="w-full p-2 border rounded mt-1 mb-4" onchange="previewImage(event)">
                    
                    <img id="preview" src="/placeholder.svg" class="w-24 h-24 object-cover rounded-full mx-auto hidden" alt="Preview">

                    <div class="flex justify-end mt-4">
                        <button onclick="closeEditProfile()" class="px-4 py-2 bg-secondary-500 text-white rounded-md mr-2 hover:bg-secondary-600 transition-colors">
                            Cancel
                        </button>
                        <button onclick="saveProfile()" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors">
                            Save Changes
                        </button>
                    </div>
                </div>
            </div>

            <!-- Performance Stats Section -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6" id="YeHaiPerformance">
                <h2 class="text-lg font-semibold text-center mb-4 text-gray-500" style="font-family: 'Poppins', sans-serif; font-weight: 800;">Performance Stats</h2>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                    <div class="p-4 bg-green-100 text-green-900 rounded-lg shadow-sm">
                        <h3 id="wins" class="text-2xl font-bold">-</h3>
                        <p>Wins</p>
                    </div>
                    <div class="p-4 bg-red-100 text-red-900 rounded-lg shadow-sm">
                        <h3 id="losses" class="text-2xl font-bold">-</h3>
                        <p>Losses</p>
                    </div>
                    <div class="p-4 bg-secondary-100 text-secondary-900 rounded-lg shadow-sm">
                        <h3 id="draws" class="text-2xl font-bold">-</h3>
                        <p>Draws</p>
                    </div>
                </div>

                <!-- Win Rate -->
                <div class="mt-6 text-center">
                    <h3 class="text-xl font-semibold">Win Rate: <span id="winRate" class="text-primary-600">-</span></h3>
                </div>

                <!-- Performance Chart -->
                <canvas id="performanceChart" class="mt-6"></canvas>
            </div>

            <!-- Fitness Tracking Section -->
            <div class="bg-white rounded-lg flex-items justify-center shadow-md p-6 mb-6">
                <div class="flex-items justify-center space-x-2">
                    <button class="relative flex items-center mb-6 justify-center px-4 py-2 text-white bg-purple-500 rounded-md shadow-md">
                        <span class="absolute -top-1 right-1 flex size-3">
                          <span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"></span>
                          <span class="relative inline-flex size-3 rounded-full bg-green-500"></span>
                        </span>
                        sync with Fit-Band
                      </button>
                      
                  </div>
                  
                <h2 class="text-lg text-center font-semibold mb-4 text-gray-500" style="font-family: 'Poppins', sans-serif; font-weight: 800;">Fitness Tracking</h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                    <div class="p-4 bg-primary-100 text-primary-900 rounded-lg shadow-sm">
                        <h3 id="steps" class="text-2xl font-bold">-</h3>
                        <p>Steps</p>
                    </div>
                    <div class="p-4 bg-green-100 text-green-900 rounded-lg shadow-sm">
                        <h3 id="heartRate" class="text-2xl font-bold">-</h3>
                        <p>Heart Rate</p>
                    </div>
                    <div class="p-4 bg-accent-100 text-accent-900 rounded-lg shadow-sm">
                        <h3 id="calories" class="text-2xl font-bold">-</h3>
                        <p>Calories Burned</p>
                    </div>
                </div>
                <canvas id="fitnessChart" class="mt-6"></canvas>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h2 class="text-lg font-semibold mb-4 text-center text-gray-500" style="font-family: 'Poppins', sans-serif; font-weight: 800;">🏋️ Injury Prediction & Fitness Plan</h2>
            
                <label for="symptoms" class="block text-sm font-medium text-secondary-700">Describe Your Symptoms:</label>
                <textarea id="symptoms" class="w-full p-3 border border-secondary-300 rounded-md mt-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="write your symptoms here..."></textarea>
            
                <button onclick="predictInjury()" class="mt-3 px-4 py-2 bg-rose-500 text-white rounded-md hover:bg-rose-700 transition-colors focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2">
                    Get GEMINI's Insights
                </button>
            
                <div id="aiResponse" class="mt-4 p-4 bg-secondary-100 rounded-md hidden">
                    <h3 class="text-lg font-semibold text-secondary-900">📊 GEMINI's Predictions & Insights:</h3>
                    <p id="predictionText" class="text-secondary-700 mt-2"></p>
                </div>
            </div>

            <!-- Upcoming Events Section -->
            <div class="bg-white rounded-lg shadow-md p-6 relative">
                <h2 class="text-lg font-semibold mb-4 text-gray-500 text-center" style="font-family: 'Poppins', sans-serif; font-weight: 800;">Upcoming Events</h2>
                
                <!-- Slideshow Container -->
                <div class="relative overflow-hidden">
                    <div id="eventSlider" class="flex transition-transform duration-500">
                        <!-- Event 1 -->
                        <div class="event-slide min-w-full p-4">
                            <h3 class="text-xl font-medium text-secondary-900">National Championship</h3>
                            <p class="text-secondary-500">📅 July 15, 2025 | 🏟️ National Stadium</p>
                            <button class="mt-3 px-4 py-2 bg-rose-500 text-white rounded-md hover:bg-rose-700 transition-colors" onclick="registerEvent('National Championship')">
                                Register Now
                            </button>
                        </div>

                        <!-- Event 2 -->
                        <div class="event-slide min-w-full p-4">
                            <h3 class="text-xl font-medium text-secondary-900">Regional Tournament</h3>
                            <p class="text-secondary-500">📅 August 2, 2025 | 🏟️ Regional Arena</p>
                            <button class="mt-3 px-4 py-2 bg-rose-500 text-white rounded-md hover:bg-accent-700 transition-colors" onclick="registerEvent('Regional Tournament')">
                                Register Now
                            </button>
                        </div>

                        <!-- Event 3 -->
                        <div class="event-slide min-w-full p-4">
                            <h3 class="text-xl font-medium text-secondary-900">Open League</h3>
                            <p class="text-secondary-500">📅 September 10, 2025 | 🏟️ Sports Complex</p>
                            <button class="mt-3 px-4 py-2 bg-rose-500 text-white rounded-md hover:bg-rose-700 transition-colors" onclick="registerEvent('Open League')">
                                Register Now
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <button onclick="prevSlide()" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-secondary-200 p-2 rounded-full hover:bg-secondary-300 transition-colors">
                    ❮
                </button>
                <button onclick="nextSlide()" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-secondary-200 p-2 rounded-full hover:bg-secondary-300 transition-colors">
                    ❯
                </button>
            </div>

            <!-- Financial Planning Section -->
            <div class="max-w-4xl mx-auto p-6 bg-white mt-6 rounded-lg shadow-md">
                <h2 class="text-xl font-bold mb-6 text-center text-gray-500" style="font-family: 'Poppins', sans-serif; font-weight: 800;">Sports Financial Planning</h2>
                
                <form id="financialPlanForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Sport</label>
                        <input type="text" id="sport" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Level</label>
                        <select id="level" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2">
                            <option value="amateur">District</option>
                            <option value="semi-pro">State</option>
                            <option value="professional">National</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Monthly Budget</label>
                        <input type="number" id="monthly_budget" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Career Goals</label>
                        <textarea id="goals" rows="3" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2"></textarea>
                    </div>

                    <button type="submit" class="w-full bg-rose-500 text-white px-4 py-2 rounded-md hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2 transition-colors">
                        Generate Financial Plan
                    </button>
                </form>

                <div id="financialPlanResponse" class="mt-6 hidden">
                    <h3 class="text-lg font-semibold mb-4 text-secondary-900">Here's Your Financial Plan :</h3>
                    <div id="planText" class="prose max-w-none"></div>
                </div>
            </div>
        </div>
    </main>

    
</body>
</html>
