<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AthleteHub | Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        secondary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        accent: {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            200: '#fde68a',
                            300: '#fcd34d',
                            400: '#fbbf24',
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309',
                            800: '#92400e',
                            900: '#78350f',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    spacing: {
                        '128': '32rem',
                    }
                }
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-secondary-50 font-sans">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-sm fixed w-full z-10">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-primary-600">AthleteHub</span>
                    <div class="hidden md:flex space-x-8 ml-10">
                        <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-primary-600 border-b-2 border-primary-500">
                            <span class="material-icons mr-1 text-sm">dashboard</span>
                            Dashboard
                        </a>
                        <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700 hover:border-b-2 hover:border-primary-300 transition-all">
                            <span class="material-icons mr-1 text-sm">trending_up</span>
                            Performance
                        </a>
                        <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700 hover:border-b-2 hover:border-primary-300 transition-all">
                            <span class="material-icons mr-1 text-sm">event</span>
                            Events
                        </a>
                    </div>
                </div>
                <div class="flex items-center">
                    <button id="logoutBtn" class="flex items-center px-3 py-2 text-sm font-medium text-secondary-500 hover:text-secondary-700">
                        <span class="material-icons mr-1 text-sm">logout</span>
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            
           <!-- Profile Section -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6 relative">
                <!-- Edit Profile Button -->
                <button onclick="openEditProfile()" class="absolute top-4 right-4 p-2 text-primary-600 hover:bg-primary-50 rounded-full transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                    </svg>
                </button>
                
                <div class="flex flex-col md:flex-row items-center">
                    <img id="profileImage" src="https://i.postimg.cc/76Dw53Mp/main-qimg.webp" 
                        alt="Athlete Profile" class="rounded-full w-24 h-24 object-cover border-4 border-primary-100">
                    <div class="md:ml-6 mt-4 md:mt-0 text-center md:text-left">
                        <h1 id="profileName" class="text-2xl font-bold text-secondary-900">Loading...</h1>
                        <p id="profileRole" class="text-secondary-500">Athlete</p>
                        <div class="mt-2 flex flex-wrap justify-center md:justify-start items-center gap-2">
                            <span class="px-3 py-1 rounded-full text-sm bg-green-100 text-green-800">Active</span>
                            <span class="px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800">
                                <span id="athleteId">ID: Loading...</span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Edit Profile Modal -->
            <div id="editProfileModal" class="fixed inset-0 bg-secondary-900 bg-opacity-50 flex justify-center items-center hidden z-50">
                <div class="bg-white p-6 rounded-lg shadow-lg w-96 max-w-[90%]">
                    <h2 class="text-xl font-bold mb-4 text-secondary-900">Edit Profile</h2>
                    
                    <label class="block text-sm font-medium text-secondary-700">Name</label>
                    <input id="editName" type="text" class="w-full p-2 border rounded mt-1 mb-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">

                    <label class="block text-sm font-medium text-secondary-700">Role</label>
                    <input id="editRole" type="text" class="w-full p-2 border rounded mt-1 mb-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">

                    <label class="block text-sm font-medium text-secondary-700">Profile Image</label>
                    <input id="editImage" type="file" accept="image/*" class="w-full p-2 border rounded mt-1 mb-4" onchange="previewImage(event)">
                    
                    <img id="preview" src="/placeholder.svg" class="w-24 h-24 object-cover rounded-full mx-auto hidden" alt="Preview">

                    <div class="flex justify-end mt-4">
                        <button onclick="closeEditProfile()" class="px-4 py-2 bg-secondary-500 text-white rounded-md mr-2 hover:bg-secondary-600 transition-colors">
                            Cancel
                        </button>
                        <button onclick="saveProfile()" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors">
                            Save Changes
                        </button>
                    </div>
                </div>
            </div>

            <!-- Performance Stats Section -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h2 class="text-lg font-semibold mb-4 text-secondary-900">Performance Stats</h2>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                    <div class="p-4 bg-green-100 text-green-900 rounded-lg shadow-sm">
                        <h3 id="wins" class="text-2xl font-bold">-</h3>
                        <p>Wins</p>
                    </div>
                    <div class="p-4 bg-red-100 text-red-900 rounded-lg shadow-sm">
                        <h3 id="losses" class="text-2xl font-bold">-</h3>
                        <p>Losses</p>
                    </div>
                    <div class="p-4 bg-secondary-100 text-secondary-900 rounded-lg shadow-sm">
                        <h3 id="draws" class="text-2xl font-bold">-</h3>
                        <p>Draws</p>
                    </div>
                </div>

                <!-- Win Rate -->
                <div class="mt-6 text-center">
                    <h3 class="text-xl font-semibold">Win Rate: <span id="winRate" class="text-primary-600">-</span></h3>
                </div>

                <!-- Performance Chart -->
                <canvas id="performanceChart" class="mt-6"></canvas>
            </div>

            <!-- Fitness Tracking Section -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h2 class="text-lg font-semibold mb-4 text-secondary-900">Fitness Tracking</h2>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                    <div class="p-4 bg-primary-100 text-primary-900 rounded-lg shadow-sm">
                        <h3 id="steps" class="text-2xl font-bold">-</h3>
                        <p>Steps</p>
                    </div>
                    <div class="p-4 bg-green-100 text-green-900 rounded-lg shadow-sm">
                        <h3 id="heartRate" class="text-2xl font-bold">-</h3>
                        <p>Heart Rate</p>
                    </div>
                    <div class="p-4 bg-accent-100 text-accent-900 rounded-lg shadow-sm">
                        <h3 id="calories" class="text-2xl font-bold">-</h3>
                        <p>Calories Burned</p>
                    </div>
                </div>
                <canvas id="fitnessChart" class="mt-6"></canvas>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h2 class="text-lg font-semibold mb-4 text-secondary-900">üèãÔ∏è Injury Prediction & Fitness Plan</h2>
            
                <label for="symptoms" class="block text-sm font-medium text-secondary-700">Describe Your Symptoms:</label>
                <textarea id="symptoms" class="w-full p-3 border border-secondary-300 rounded-md mt-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Knee pain after running..."></textarea>
            
                <button onclick="predictInjury()" class="mt-3 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
                    Get AI Insights
                </button>
            
                <div id="aiResponse" class="mt-4 p-4 bg-secondary-100 rounded-md hidden">
                    <h3 class="text-lg font-semibold text-secondary-900">üìä AI Predictions & Insights:</h3>
                    <p id="predictionText" class="text-secondary-700 mt-2"></p>
                </div>
            </div>

            <!-- Upcoming Events Section -->
            <div class="bg-white rounded-lg shadow-md p-6 relative">
                <h2 class="text-lg font-semibold mb-4 text-secondary-900">Upcoming Events</h2>
                
                <!-- Slideshow Container -->
                <div class="relative overflow-hidden">
                    <div id="eventSlider" class="flex transition-transform duration-500">
                        <!-- Event 1 -->
                        <div class="event-slide min-w-full p-4">
                            <h3 class="text-xl font-medium text-secondary-900">National Championship</h3>
                            <p class="text-secondary-500">üìÖ July 15, 2025 | üèüÔ∏è National Stadium</p>
                            <button class="mt-3 px-4 py-2 bg-accent-600 text-white rounded-md hover:bg-accent-700 transition-colors" onclick="registerEvent('National Championship')">
                                Register Now
                            </button>
                        </div>

                        <!-- Event 2 -->
                        <div class="event-slide min-w-full p-4">
                            <h3 class="text-xl font-medium text-secondary-900">Regional Tournament</h3>
                            <p class="text-secondary-500">üìÖ August 2, 2025 | üèüÔ∏è Regional Arena</p>
                            <button class="mt-3 px-4 py-2 bg-accent-600 text-white rounded-md hover:bg-accent-700 transition-colors" onclick="registerEvent('Regional Tournament')">
                                Register Now
                            </button>
                        </div>

                        <!-- Event 3 -->
                        <div class="event-slide min-w-full p-4">
                            <h3 class="text-xl font-medium text-secondary-900">Open League</h3>
                            <p class="text-secondary-500">üìÖ September 10, 2025 | üèüÔ∏è Sports Complex</p>
                            <button class="mt-3 px-4 py-2 bg-accent-600 text-white rounded-md hover:bg-accent-700 transition-colors" onclick="registerEvent('Open League')">
                                Register Now
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <button onclick="prevSlide()" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-secondary-200 p-2 rounded-full hover:bg-secondary-300 transition-colors">
                    ‚ùÆ
                </button>
                <button onclick="nextSlide()" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-secondary-200 p-2 rounded-full hover:bg-secondary-300 transition-colors">
                    ‚ùØ
                </button>
            </div>

            <!-- Financial Planning Section -->
            <div class="max-w-4xl mx-auto p-6 bg-white mt-6 rounded-lg shadow-md">
                <h2 class="text-xl font-bold mb-6 text-primary-600">Sports Financial Planning</h2>
                
                <form id="financialPlanForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Sport</label>
                        <input type="text" id="sport" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Level</label>
                        <select id="level" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2">
                            <option value="amateur">Amateur</option>
                            <option value="semi-pro">Semi-Professional</option>
                            <option value="professional">Professional</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Monthly Budget</label>
                        <input type="number" id="monthly_budget" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-secondary-700">Career Goals</label>
                        <textarea id="goals" rows="3" class="mt-1 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 p-2"></textarea>
                    </div>

                    <button type="submit" class="w-full bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors">
                        Generate Financial Plan
                    </button>
                </form>

                <div id="financialPlanResponse" class="mt-6 hidden">
                    <h3 class="text-lg font-semibold mb-4 text-secondary-900">Your Financial Plan</h3>
                    <div id="planText" class="prose max-w-none"></div>
                </div>
            </div>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js";
        import { checkAuth } from './auth.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDpfdLyJ4rFmEgWCw900gQUWOvI9TEVvYU",
            authDomain: "atheletehub-59ffa.firebaseapp.com",
            projectId: "atheletehub-59ffa",
            storageBucket: "atheletehub-59ffa.firebasestorage.app",
            messagingSenderId: "140956597666",
            appId: "1:140956597666:web:cbdbfff48ef76d78d8c6fb",
            measurementId: "G-BMR5HGZM59"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Check authentication when page loads
        checkAuth();

        // Handle logout
        document.getElementById('logoutBtn').addEventListener('click', () => {
            signOut(auth).then(() => {
                window.location.href = '/loginpage.html';
            }).catch((error) => {
                console.error('Logout error:', error);
            });
        });

        // Load athlete data
        window.addEventListener('DOMContentLoaded', () => {
            loadAthleteData();
        });

        // Make loadAthleteData available globally
        window.loadAthleteData = loadAthleteData;
    </script>

    <script>
        // Functions for profile editing
        function openEditProfile() {
            document.getElementById("editProfileModal").classList.remove("hidden");
            document.getElementById("editName").value = document.getElementById("profileName").innerText;
            document.getElementById("editRole").value = document.getElementById("profileRole").innerText;
        }

        function closeEditProfile() {
            document.getElementById("editProfileModal").classList.add("hidden");
        }

        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById("preview").src = e.target.result;
                    document.getElementById("preview").classList.remove("hidden");
                };
                reader.readAsDataURL(file);
            }
        }

        function saveProfile() {
            const name = document.getElementById("editName").value;
            const role = document.getElementById("editRole").value;
            
            document.getElementById("profileName").innerText = name;
            document.getElementById("profileRole").innerText = role;
            
            const preview = document.getElementById("preview").src;
            if (preview && !preview.includes('undefined')) {
                document.getElementById("profileImage").src = preview;
                localStorage.setItem('athleteProfileImage', preview);
            }

            // Save to localStorage
            localStorage.setItem('athleteName', name);
            localStorage.setItem('athleteRole', role);

            closeEditProfile();
        }

        // Event slider functions
        let currentIndex = 0;

        function updateSlide() {
            document.getElementById("eventSlider").style.transform = `translateX(-${currentIndex * 100}%)`;
        }

        function nextSlide() {
            const totalSlides = document.querySelectorAll(".event-slide").length;
            if (currentIndex < totalSlides - 1) {
                currentIndex++;
            } else {
                currentIndex = 0; // Loop back to first slide
            }
            updateSlide();
        }

        function prevSlide() {
            const totalSlides = document.querySelectorAll(".event-slide").length;
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = totalSlides - 1; // Loop back to last slide
            }
            updateSlide();
        }

        function registerEvent(eventName) {
            alert(`‚úÖ Registered for ${eventName}!`);
        }

        // Injury prediction function
        async function predictInjury() {
            const symptoms = document.getElementById("symptoms").value;
            if (!symptoms) {
                alert("Please enter your symptoms!");
                return;
            }
    
            document.getElementById("aiResponse").classList.remove("hidden");
            document.getElementById("predictionText").innerText = "‚è≥ Analyzing with AI...";
    
            try {
                console.log("Sending request with symptoms:", symptoms);
                const response = await fetch("https://athletehub.onrender.com/predict", {
                    method: "POST",
                    headers: { 
                        "Content-Type": "application/json",
                        "Accept": "application/json"
                    },
                    body: JSON.stringify({ symptoms })
                });
    
                console.log("Response status:", response.status);
                const responseText = await response.text();
                console.log("Raw response:", responseText);
    
                let data;
                try {
                    data = JSON.parse(responseText);
                } catch (e) {
                    console.error("Failed to parse JSON:", e);
                    throw new Error("Invalid JSON response from server");
                }
    
                if (!response.ok) {
                    throw new Error(`Server error: ${data.error || response.status}`);
                }
    
                document.getElementById("predictionText").innerText = data.prediction;
            } catch (error) {
                console.error('Detailed error:', error);
                document.getElementById("predictionText").innerText = 
                    `‚ùå Error: ${error.message || "Could not connect to the AI service. Please try again later."}`;
            }
        }

        // Financial plan form handler
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('financialPlanForm');
            
            form.addEventListener('submit', async function(e) {
                e.preventDefault();  // Prevent form submission

                const formData = {
                    sport: document.getElementById('sport').value,
                    level: document.getElementById('level').value,
                    monthly_budget: document.getElementById('monthly_budget').value,
                    goals: document.getElementById('goals').value
                };

                // Validate form data
                if (!formData.sport || !formData.level || !formData.monthly_budget || !formData.goals) {
                    alert('Please fill in all fields');
                    return;
                }

                document.getElementById('financialPlanResponse').classList.remove('hidden');
                document.getElementById('planText').innerHTML = "Generating your financial plan...";

                try {
                    console.log('Sending request with data:', formData);
                    const response = await fetch('https://athletehub.onrender.com/financial-plan', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    });

                    console.log('Response status:', response.status);
                    const responseText = await response.text();
                    console.log('Raw response:', responseText);

                    let data;
                    try {
                        data = JSON.parse(responseText);
                    } catch (e) {
                        console.error('Failed to parse JSON:', e);
                        throw new Error('Invalid response from server');
                    }

                    if (!response.ok) {
                        throw new Error(data.error || 'Failed to generate financial plan');
                    }

                    document.getElementById('planText').innerHTML = data.financial_plan;
                } catch (error) {
                    console.error('Error details:', error);
                    document.getElementById('planText').innerHTML = 
                        `Error generating financial plan: ${error.message}. Please try again.`;
                }
            });
        });

        // Function to load athlete data
        function loadAthleteData() {
            // Try to get athlete name from localStorage
            let firstName = localStorage.getItem('athleteFirstName');
            let lastName = localStorage.getItem('athleteLastName');
            let fullName = '';
            
            if (firstName && lastName) {
                fullName = `${firstName} ${lastName}`;
            } else {
                // Fallback to athleteName if first/last name not available
                fullName = localStorage.getItem('athleteName');
                
                // If still no name, use a default
                if (!fullName) {
                    fullName = "Athlete";
                    // Generate random first and last name for demo
                    const randomNames = [
                        "John Smith", "Jane Doe", "Alex Johnson", 
                        "Maria Garcia", "Wei Chen", "Aisha Patel"
                    ];
                    fullName = randomNames[Math.floor(Math.random() * randomNames.length)];
                }
            }
            
            // Set profile name
            document.getElementById('profileName').innerText = fullName;
            
            // Get role or set default
            const role = localStorage.getItem('athleteRole') || "Professional Athlete";
            document.getElementById('profileRole').innerText = role;
            
            // Get profile image or keep default
            const profileImage = localStorage.getItem('athleteProfileImage');
            if (profileImage) {
                document.getElementById('profileImage').src = profileImage;
            }
            
            // Generate a unique athlete ID based on name
            const athleteId = `ATH${fullName.replace(/\s+/g, '').substring(0, 4).toUpperCase()}${Math.floor(Math.random() * 10000)}`;
            document.getElementById('athleteId').innerText = `ID: ${athleteId}`;
            
            // Generate random performance data based on athlete name
            // This ensures the same athlete always gets the same stats
            const nameSeed = fullName.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            const rng = seedRandom(nameSeed);
            
            // Set wins, losses, draws
            const wins = Math.floor(rng() * 20) + 5; // At least 5 wins
            const losses = Math.floor(rng() * 10) + 1; // At least 1 loss
            const draws = Math.floor(rng() * 5); // 0-4 draws
            
            document.getElementById('wins').innerText = wins;
            document.getElementById('losses').innerText = losses;
            document.getElementById('draws').innerText = draws;
            
            // Calculate win rate
            const totalMatches = wins + losses + draws;
            const winRate = ((wins / totalMatches) * 100).toFixed(1);
            document.getElementById('winRate').innerText = `${winRate}%`;
            
            // Generate match results for chart
            const matchResults = [];
            const matches = [];
            for (let i = 1; i <= 7; i++) {
                matchResults.push(Math.floor(rng() * 6) + 1); // 1-6 points per match
                matches.push(`Match ${i}`);
            }
            
            // Generate fitness data
            const steps = Math.floor(rng() * 5000) + 8000; // 8000-13000 steps
            const heartRate = Math.floor(rng() * 20) + 65; // 65-85 bpm
            const calories = Math.floor(rng() * 300) + 400; // 400-700 calories
            
            document.getElementById('steps').innerText = steps.toLocaleString();
            document.getElementById('heartRate').innerText = `${heartRate} bpm`;
            document.getElementById('calories').innerText = `${calories} kcal`;
            
            // Initialize charts
            initializeCharts(matches, matchResults);
        }
        
        // Seeded random number generator for consistent results
        function seedRandom(seed) {
            return function() {
                seed = (seed * 9301 + 49297) % 233280;
                return seed / 233280;
            };
        }
        
        // Initialize charts
        function initializeCharts(matches, matchResults) {
            // Performance Chart
            const performanceCtx = document.getElementById("performanceChart").getContext("2d");
            new Chart(performanceCtx, {
                type: "bar",
                data: {
                    labels: matches,
                    datasets: [{
                        label: "Points Scored",
                        data: matchResults,
                        backgroundColor: "rgba(14, 165, 233, 0.6)",
                        borderColor: "rgba(14, 165, 233, 1)",
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });

            // Fitness Chart
            const fitnessCtx = document.getElementById("fitnessChart").getContext("2d");
            const days = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
            
            // Generate random step data based on athlete name
            const stepData = [];
            for (let i = 0; i < 7; i++) {
                stepData.push(Math.floor(Math.random() * 5000) + 8000);
            }

            new Chart(fitnessCtx, {
                type: "line",
                data: {
                    labels: days,
                    datasets: [{
                        label: "Steps Taken",
                        data: stepData,
                        backgroundColor: "rgba(14, 165, 233, 0.2)",
                        borderColor: "rgba(14, 165, 233, 1)",
                        borderWidth: 2,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }
    </script>
</body>
</html>